<div [routerLink]="['/todo']">
  <h1>Your To Do List:</h1>
  <hr />
  <div>
    <div *ngFor="let todoItem of todoItems" class="container">
      <div *ngIf="!todoItem.completed" class="row">
        <div class="col-md-1">
          <td-done (check)="toggleCheck(todoItem)" [checked]="todoItem.completed"></td-done>
        </div>
        <div class="col-md-8">
          <div class="card pointable">
            <div class="card-body">
              <div [ngClass]="{
                'bg-warning': todoItem.dueDate.toLocaleString() === tomorrowDate.toLocaleString(),
                'bg-danger' : todoItem.dueDate.toLocaleString() === currentDate.toLocaleString()
                }" class="card-header">
                <h4>{{ todoItem.title | uppercase }}</h4>
              </div>
              <div class="card-text">
                <div><b>Priority:</b> {{ todoItem.priority === 1 ? "High" : todoItem.priority === 2 ? "Medium" : "Low"}}</div>
                <div><b>Due By:</b> {{ todoItem.dueDate | date }}</div>
                <div><b>Category:</b> {{ todoItem.category }}</div>
                <div><b>Location:</b> {{ todoItem.location }}</div>
                <div *ngIf="todoItem.details"><b>Details:</b> {{ todoItem.details }}</div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <hr />
    <div>
      <h2>Recently Completed:</h2>
    </div>
    <div *ngFor="let doneItem of completedTodos">
      <div *ngIf="doneItem.completed" class="row">
        <div class="col-md-1">
          <td-done (check)="toggleCheck(doneItem)" [checked]="doneItem.completed"></td-done>
        </div>
        <div class="col-md-8">
          <div class="card pointable">
            <div class="card-body">
              <div class="card-title">
                <h4>{{ doneItem.title | uppercase }}</h4>
              </div>
              <div class="card-body">
                <div>Priority: {{ doneItem.priority }}</div>
                <div>Date Completed: {{ doneItem.dateCompleted | date }}</div>
                <div>Category: {{ doneItem.category }}</div>
                <div>Location: {{ doneItem.location }}</div>
                <div>Details: {{ doneItem.details }}</div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
